<!-- Trigger Button -->
<button id="staffTrigger" class="staff-trigger">
  <span class="visually-hidden">Open Staff Menu</span>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="staff-icon" aria-hidden="true">
    <circle cx="12" cy="12" r="3"></circle>
    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
  </svg>
</button>

<!-- Slide-in Drawer -->
<aside id="staffDrawer" class="staff-drawer">
  <header class="staff-drawer__header">
    <h3>Staff Tools</h3>
    <button id="staffClose" class="staff-close">
      <span class="visually-hidden">Close Staff Menu</span>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="staff-icon" aria-hidden="true">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </header>

  <nav class="staff-drawer__body">
    <hr class="staff-drawer__divider" />

    <a href="{% url 'staff_book_interests' %}" class="staff-drawer__action">Manage Book Interests</a>

    {% if interest %}
      {% if not interest.handled %}
        <form method="post" action="{% url 'staff_mark_interest_handled' interest.id %}">
          {% csrf_token %}
          <button type="submit" class="staff-drawer__action">Mark interest handled</button>
        </form>
      {% endif %}

      <a href="{% url 'staff_delete_interest' interest.id %}" class="staff-drawer__action">Delete interest</a>
    {% endif %}

    <hr class="staff-drawer__divider" />

    <a href="{% url 'book_add_old' %}" class="staff-drawer__action">Add Book - Old</a>

    <a href="{% url 'book_add_lookup' %}" class="staff-drawer__action">Add Book - Guided</a>

    <hr class="staff-drawer__divider" />

    {% comment %} <hr class="staff-drawer__divider" /> {% endcomment %}

    {% if book %}
      {% if user.is_superuser or is_recently_created %}
        <a href="{% url 'book_update' book.id %}" class="staff-drawer__action">Update Book</a>
      {% endif %}
    {% endif %}

    {% if book %}
      {% if not book.photo %}
        {% comment %} <a href="{% url 'lookup_book_cover' book.id %}" class="staff-drawer__action">Lookup Book Cover</a> {% endcomment %}
        <a href="{% url 'book_cover_lookup_page' book.id %}" class="staff-drawer__action">Lookup Book Cover</a>
      {% endif %}
    {% endif %}

    {% if book %}
      <a href="{% url 'staff_add_copy' book.id %}" class="staff-drawer__action">Add copy</a>

      {% if num_copies > 0 %}
        <a href="{% url 'staff_remove_copy' book.id %}" class="staff-drawer__action">Remove copy</a>
      {% endif %}
    {% endif %}

    {% if author %}
      <a href="{% url 'author_update' author.id %}" class="staff-drawer__action">Update Author</a>
    {% endif %}
  </nav>
</aside>
