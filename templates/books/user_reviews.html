{% extends 'site_base.html' %}
{% load static %}

{% block title %}
  {{ profile_user.username }}'s Reviews - Barham Books
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/pages/user-reviews.css' %}" />
  <link rel="stylesheet" href="{% static 'css/components/review.css' %}" />
  <link rel="stylesheet" href="{% static 'css/components/pagination.css' %}" />
{% endblock %}

{% block content %}
  <div class="user wrapper">
    <header class="user__heading">
      <div class="user__title-wrapper">
        <span class="user__label">User Reviews</span>
        <h1 class="user__title">
          Reviews by

          <span class="user__username">
            {{ profile_user.username }}

            {% if profile_user.is_staff %}
              <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle user__staff-icon">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              </span>
            {% endif %}
          </span>
        </h1>
      </div>

      {% if review_count > 0 %}
        <p>{{ review_count }} reviews Â· Most recent first</p>
      {% endif %}
    </header>

    {% for review in reviews %}
      {% include 'components/review.html' with is_user_review_archive=True %}
    {% empty %}
      <p>
        <span class="user__username-no-reviews">{{ profile_user.username }}</span> hasn't written any reviews yet.
      </p>
    {% endfor %}

    {% include 'components/pagination.html' with items=reviews %}
  </div>
{% endblock %}
